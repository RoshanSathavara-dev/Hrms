@{
    ViewData["Title"] = "Holiday Calendar";
    Layout = "_Layout"; // Use your user layout here
}

<div class="container py-4">
    <h2 class="mb-4">Holiday Calendar</h2>

    @if (User.FindFirst("CompanyName") != null)
    {
        <div class="alert alert-info mb-3">
            Showing holidays for: <strong>@(User.FindFirst("CompanyName")?.Value ?? "Unknown Company")</strong>
        </div>

    }

    <div class="card shadow-sm">
        <div class="card-body">
            <div id="calendar"></div>
        </div>
    </div>
</div>

<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet" />

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');

            var calendar = new FullCalendar.Calendar(calendarEl, {
                // ... existing config ...
                events: {
                    url: '/Calendar/GetHolidays',
                    failure: function() {
                        alert('There was an error fetching holidays');
                    }
                },
                eventDidMount: function(info) {
                    // Optional: Add custom tooltip
                    info.el.setAttribute('title', info.event.title);
                }
            });

            calendar.render();
        });
    </script>
}

<style>
    .fc-daygrid-event {
        cursor: default;
    }

    .fc-event {
        border-radius: 4px;
        font-size: 0.9em;
        padding: 2px 5px;
    }

    .fc-daygrid-day-number {
        color: #495057;
    }

    .fc-today-button {
        background-color: #0d6efd;
        border-color: #0d6efd;
    }

    .fc-button-primary {
        background-color: #f8f9fa;
        color: #212529;
        border-color: #dee2e6;
    }

        .fc-button-primary:hover {
            background-color: #e9ecef;
            color: #212529;
            border-color: #dee2e6;
        }

        .fc-button-primary:not(:disabled).fc-button-active {
            background-color: #e9ecef;
            color: #212529;
            border-color: #dee2e6;
        }
</style>